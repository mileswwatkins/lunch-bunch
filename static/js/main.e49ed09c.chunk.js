(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(37)},20:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),i=a.n(s),c=(a(20),a(3)),o=a(4),l=a(6),p=a(5),u=a(7),h=a(1),m=a(10),d=a(14),b=(a(36),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={infoWindowVisible:!1,activeRestaurant:null,activeMarker:null},a.onMarkerClick=a.onMarkerClick.bind(Object(h.a)(Object(h.a)(a))),a.onMapClick=a.onMapClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onMarkerClick",value:function(e,t){this.state.activeMarker&&this.state.activeMarker!==t?this.setState({activeRestaurant:e,activeMarker:t}):this.setState({infoWindowVisible:!this.state.infoWindowVisible,activeRestaurant:e,activeMarker:t}),document.querySelector("div[data-hook=".concat(e.placeId,"]")).scrollIntoView({behavior:"smooth"})}},{key:"onMapClick",value:function(){this.state.infoWindowVisible&&this.setState({infoWindowVisible:!1,activeMarker:null})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App-MapContainer"},r.a.createElement(m.Map,{google:window.google,centerAroundCurrentLocation:!0,zoom:15,initialCenter:{lat:37.79,lng:-122.41},onReady:this.props.retrieveMap,onBounds_changed:Object(d.debounce)(this.props.handleMapBoundsChange,500),onClick:this.onMapClick,scrollwheel:!1,fullscreenControl:!1,mapTypeControl:!1,streetViewControl:!1},this.props.results.map(function(t){return r.a.createElement(m.Marker,{key:t.place_id,placeId:t.place_id,name:t.name,position:t.geometry.location,icon:{url:"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=".concat(t.markerNumber,"|FE6256")},onClick:e.onMarkerClick})}),r.a.createElement(m.InfoWindow,{marker:this.state.activeMarker,visible:this.state.infoWindowVisible},r.a.createElement("div",null,r.a.createElement("span",{className:"App-MapContainer-InfoWindow"},this.state.activeRestaurant&&this.state.activeRestaurant.name)))))}}]),t}(n.Component)),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={input:""},a.handleTextInput=a.handleTextInput.bind(Object(h.a)(Object(h.a)(a))),a.performSearch=a.performSearch.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleTextInput",value:function(e){this.setState({input:e.target.value})}},{key:"performSearch",value:function(e){e&&e.preventDefault(),this.props.placesService.textSearch({query:this.state.input,type:"restaurant",bounds:this.props.mapBounds},this.props.handleSearchResults)}},{key:"componentDidUpdate",value:function(e){!e.placesService&&this.props.placesService&&this.performSearch(),e.mapBounds!==this.props.mapBounds&&this.performSearch()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App-header-Search",onSubmit:this.performSearch},r.a.createElement("form",{className:"App-header-Search-form"},r.a.createElement("input",{type:"text",className:"App-header-Search-input",placeholder:"Search your nearby restaurants",value:this.state.input,onChange:this.handleTextInput}),r.a.createElement("input",{type:"submit",value:"Search",className:"App-header-Search-button"})))}}]),t}(n.Component),f=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App-Restaurants"},this.props.results.map(function(e){return r.a.createElement(k,{key:e.place_id,placeId:e.place_id,markerNumber:e.markerNumber,name:e.name,rating:e.rating,address:e.formatted_address})}))}}]),t}(n.Component),k=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"makeURL",value:function(e,t){var a=window.encodeURIComponent("".concat(e," ").concat(t));return"https://www.google.com/search?q=".concat(a)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App-Restaurant","data-hook":this.props.placeId},r.a.createElement("h3",{className:"App-Restaurant-title"},"".concat(this.props.markerNumber,". "),r.a.createElement("a",{href:this.makeURL(this.props.name,this.props.address),target:"_blank"},this.props.name)),r.a.createElement("span",{className:"App-Restaurant-info"},"Rating: ",this.props.rating," / 5"),r.a.createElement("span",{className:"App-Restaurant-info"},this.props.address))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={results:[],map:null,mapBounds:null,placesService:null},a.handleSearchResults=a.handleSearchResults.bind(Object(h.a)(Object(h.a)(a))),a.retrieveMap=a.retrieveMap.bind(Object(h.a)(Object(h.a)(a))),a.handleMapBoundsChange=a.handleMapBoundsChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"retrieveMap",value:function(e,t){var a=this;this.setState({map:t},function(){a.setState({placesService:new window.google.maps.places.PlacesService(a.state.map)})})}},{key:"handleSearchResults",value:function(e){this.setState({results:e.slice(0,9).map(function(e,t){return e.markerNumber=t+1,e})})}},{key:"handleMapBoundsChange",value:function(){this.setState({mapBounds:this.state.map.getBounds()})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",{className:"App-header-title"},r.a.createElement("span",{role:"img","aria-label":"food emoji"},"\ud83c\udf54")," Lunch Bunch ",r.a.createElement("span",{role:"img","aria-label":"food emoji"},"\ud83c\udf72")),r.a.createElement("span",{className:"App-header-description"},"Find the hot new hot food near you!"),r.a.createElement(v,{handleSearchResults:this.handleSearchResults,placesService:this.state.placesService,mapBounds:this.state.mapBounds})),r.a.createElement("div",{className:"App-content"},r.a.createElement(b,{map:this.state.map,retrieveMap:this.retrieveMap,handleMapBoundsChange:this.handleMapBoundsChange,results:this.state.results}),r.a.createElement(f,{results:this.state.results})))}}]),t}(n.Component);window.initMap=function(){i.a.render(r.a.createElement(j,null),document.getElementById("root"))}}},[[15,1,2]]]);
//# sourceMappingURL=main.e49ed09c.chunk.js.map